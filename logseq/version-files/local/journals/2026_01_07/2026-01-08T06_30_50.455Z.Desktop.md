## ğŸ’¼ Work Stream
- 09:15 [[CTW]] BPM-A(Team2) daily standup #meeting
- 14:00 [[CTW]] Case Tracker UI review #meeting
  category:: review
  attendees:: Shinly, Diamond, Tomi
- DONE [[CTW]] Document PiP investigation #coding
  collapsed:: true
	- æ ¸å¿ƒæ”¯æŒèƒ½åŠ›
		- å®Œæ•´äº¤äº’ï¼šæ”¯æŒç‚¹å‡»ã€è¾“å…¥ã€æ»šåŠ¨ç­‰æ‰€æœ‰æ ‡å‡†ç½‘é¡µäº¤äº’
		- React å…¼å®¹ï¼šç»“åˆ `createPortal` å¯å°†ç»„ä»¶â€œä¼ é€åˆ°â€ PiP çª—å£ï¼Œä¸éœ€è¦é”€æ¯é‡å»º
			- çŠ¶æ€ä¿ç•™ï¼šè¡¨å•ä¸­å·²ç»è¾“å…¥çš„æ–‡å­—ã€è®¡æ•°å™¨è¯»æ•°ç­‰èƒ½ä¿ç•™
			- å“åº”å¼æ›´æ–°ï¼šä¸»çª—å£çš„ state å˜åŒ–ä¼šå®æ—¶é©±åŠ¨ PiP çª—å£å†…çš„ UI æ›´æ–°
		- åŠ¨æ€å°ºå¯¸è°ƒæ•´
			- æ”¯æŒé€šè¿‡ `resizeTo` åœ¨äº‹ä»¶ä¸­è°ƒæ•´ PiP çª—å£å¤§å°
			- çª—å£å°ºå¯¸æ§åˆ¶ï¼šå¿…é¡»ç”±ç”¨æˆ·æ‰‹åŠ¿ (æ¯”å¦‚ click äº‹ä»¶) ç›´æ¥è§¦å‘
				- ä¸èƒ½åœ¨ `useEffect` æˆ–å¼‚æ­¥å›è°ƒä¸­éšæ„è°ƒæ•´ PiP çª—å£å¤§å° (æµè§ˆå™¨ä¼šæ‹¦æˆª)
				- å¿…é¡»ç›´æ¥ç»‘å®šåœ¨ `click` ç­‰äº‹ä»¶å¤„ç†å‡½æ•°ä¸­
	- é™åˆ¶
		- å…³é—­ã€åˆ·æ–°ä¸»çª—å£æ ‡ç­¾ï¼ŒPiP çª—å£ä¼šå¼ºåˆ¶å…³é—­
		- æµè§ˆå™¨è®°å¿†æœºåˆ¶
			- æµè§ˆå™¨ä¼šä¼˜å…ˆè®°ä½ç”¨æˆ·ä¸Šæ¬¡å…³é—­çª—å£æ—¶çš„å¤§å°å’Œä½ç½®ï¼Œä¼šå¿½ç•¥ `requestWindow` ä¸­çš„åˆå§‹é…ç½®
				- æ¯”å¦‚å¸Œæœ›èƒ½ä»¥é«˜ `32px` æ‰“å¼€çª—å£ï¼Œä½†å¦‚æœç”¨æˆ·ä¸Šæ¬¡å°†çª—å£æ‹‰å¤§åˆ°äº† `500px`ï¼Œä¸‹æ¬¡æ‰“å¼€ä¾ç„¶æ˜¯ `500px`
				- æ–¹æ¡ˆï¼šä¸å¼ºè¡Œé‡ç½®ä¸šåŠ¡çŠ¶æ€ï¼Œè®©ä¸šåŠ¡çŠ¶æ€é€‚é…çª—å£ (æ¯”å¦‚ä¸Šæ¬¡å…³é—­çª—å£æ—¶å±•å¼€äº†è¡¨å•ï¼Œä¸‹æ¬¡æ‰“å¼€çª—å£ç›´æ¥æ˜¾ç¤ºå±•å¼€çŠ¶æ€çš„è¡¨å•)
		- ç³»ç»Ÿæœ€å°é«˜åº¦ï¼šæ“ä½œç³»ç»Ÿå¯¹çª—å£æœ‰å¼ºåˆ¶æœ€å°é«˜åº¦ (çº¦ 100px - 130px)
			- åˆå§‹åŒ–é…ç½® 32px é«˜åº¦ï¼Œå®é™…å¯èƒ½æœ‰éƒ¨åˆ†ç©ºç™½
			- æ–¹æ¡ˆï¼šè°ƒæ•´æœ€å° panel çš„é«˜åº¦
		- æ ·å¼éš”ç¦»
			- æ ·å¼ä¸ç»§æ‰¿
				- PiP çª—å£æ˜¯ä¸€ä¸ªå…¨æ–°çš„ `window` ä¸Šä¸‹æ–‡ï¼Œä¸»çª—å£çš„ CSS ä¸ä¼š**è‡ªåŠ¨ç”Ÿæ•ˆ**
				- æ–¹æ¡ˆï¼šåœ¨æ‰“å¼€çª—å£æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨éå† `document.styleSheets` å¹¶å¤åˆ¶åˆ° PiP æ–‡æ¡£çš„ `<head>` ä¸­
- [[Prepare Interview Materials]] Level 2 (ä¸­çº§å¼€å‘)
  collapsed:: true
	- **æ•´ä½“è¦æ±‚ï¼šä¸ä»…èƒ½ç‹¬ç«‹å®Œæˆéœ€æ±‚ï¼Œè¿˜èƒ½å†™å‡ºå¯ç»´æŠ¤çš„ä»£ç ï¼Œè¿˜è¦ç†è§£èƒŒåçš„åŸç†å’Œå·¥ç¨‹è§„èŒƒã€‚**
	- React åŸºç¡€
		- åœ¨ TS ä¸­ï¼Œä¸ºä»€ä¹ˆè¦é¿å…å¯¹ç»„ä»¶çš„ props ä½¿ç”¨ any ç±»å‹ï¼Ÿ
		  logseq.order-list-type:: number
			- å¤±å» TS çš„ç±»å‹æ£€æŸ¥ä¼˜åŠ¿
			- çˆ¶ç»„ä»¶ä¼ å‚é”™è¯¯ï¼ˆå¦‚æ‹¼å†™é”™è¯¯ã€ç±»å‹ä¸åŒ¹é…ï¼‰æ—¶æ— æ³•åœ¨ç¼–è¯‘æœŸå‘ç°
			- ç¼–è¾‘å™¨ä¸¢å¤±æ™ºèƒ½æç¤º
			- é™ä½å¼€å‘æ•ˆç‡å’Œä»£ç å¯è¯»æ€§ã€å¢åŠ ä½çº§é”™è¯¯å‡ºç°çš„æ¦‚ç‡
		- è§£é‡Š `useState` å’Œ `useEffect` çš„å…¸å‹ä½¿ç”¨åœºæ™¯ï¼Œå¹¶å„ä¸¾ä¸€ä¸ªå®é™…çš„ä¾‹å­ã€‚
		  logseq.order-list-type:: number
			- `useState`ï¼šç®¡ç†ç»„ä»¶å†…éƒ¨çŠ¶æ€
				- æ§åˆ¶ Modal çš„ `isOpen`
				- æˆ–è¡¨å•è¾“å…¥çš„ `value`
			- `useEffect`ï¼šå¤„ç†å‰¯ä½œç”¨
				- ç»„ä»¶æŒ‚è½½åå‘èµ· API è¯·æ±‚
				- æ‰‹åŠ¨æ“ä½œ DOM (å¦‚èšç„¦è¾“å…¥æ¡†)
				- å»ºç«‹/æ¸…é™¤å®šæ—¶å™¨ã€‚
	- TypeScript
		- ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ interfaceï¼Œä»€ä¹ˆæ—¶å€™ä½¿ç”¨ type å®šä¹‰ç±»å‹ï¼Ÿå®ƒä»¬åœ¨æ‰©å±•æ€§å’Œå¯ç»´æŠ¤æ€§ä¸Šæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
		  logseq.order-list-type:: number
			- å¾ˆå¤šåœºæ™¯é€šç”¨ä¸¤è€…é€šç”¨ï¼Œåº“å¼€å‘ interface ä¾¿äºæ‰©å±•ï¼Œå¤æ‚ç±»å‹ç»„åˆé€»è¾‘ä¸­ç”¨ type
			- Interface
				- é€‚åˆå®šä¹‰å¯¹è±¡ç»“æ„ã€ç±»çš„å®ç°ã€‚æ”¯æŒ**å£°æ˜åˆå¹¶**ï¼Œå¯æ‰©å±•ç¬¬ä¸‰æ–¹åº“ç±»å‹
			- Type
				- æ›´çµæ´»ï¼Œé€‚åˆå®šä¹‰åŸºæœ¬ç±»å‹çš„åˆ«åã€è”åˆç±»å‹ã€äº¤å‰ç±»å‹ã€å…ƒç»„ç­‰
		- TS å†…ç½®ç±»å‹ä¸­ï¼Œä½ æœ€å¸¸ç”¨çš„æœ‰å“ªäº›ï¼Ÿä»ä½ ç”¨è¿‡çš„å†…ç½®ç±»å‹ä¸­ä½ å­¦åˆ°äº†ä»€ä¹ˆï¼Ÿ
		  logseq.order-list-type:: number
			- å¸¸è§ï¼š`Partial`, `Required`, `Pick`, `Omit`, `Record`, `ReturnType`
			- ç†è§£æ³›å‹å’Œæ˜ å°„ç±»å‹çš„ç»„åˆèƒ½åŠ›ï¼Œèƒ½å‡å°‘é‡å¤ä»£ç å®šä¹‰
	- æ ·å¼ä¸ SCSS
		- ç›¸æ¯”å…¨å±€ CSSï¼ŒCSS Module æœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ
			- é¿å…å‘½åå†²çªï¼šè‡ªåŠ¨ç”Ÿæˆå”¯ä¸€ç±»åï¼Œé¿å…æ±¡æŸ“å…¨å±€
			- æ˜ç¡®ä¾èµ–ï¼šæ ·å¼æ–‡ä»¶ä¸ç»„ä»¶ä¸€ä¸€å¯¹åº”ï¼Œåˆ é™¤ç»„ä»¶æ—¶èƒ½æ¸…æ¥šçŸ¥é“å“ªäº›æ ·å¼ä¹Ÿå¯ä»¥åˆ é™¤
	- å•å…ƒæµ‹è¯•
		- ä»€ä¹ˆæ˜¯ Jest å¿«ç…§æµ‹è¯•ï¼Ÿå®ƒé€‚ç”¨äºå“ªäº›åœºæ™¯ï¼Ÿåˆæœ‰å“ªäº›å±€é™æ€§ï¼Ÿ
		  logseq.order-list-type:: number
			- å°†ç»„ä»¶æ¸²æŸ“ç»“æœåºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²å¹¶ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œä¸‹æ¬¡æµ‹è¯•æ—¶å¯¹æ¯”æ˜¯å¦å˜åŒ–
			- åœºæ™¯
				- é€‚ç”¨äº UI ç»“æ„ç›¸å¯¹ç¨³å®š
				- ç¡®ä¿é‡æ„æ—¶ä¸æ„å¤–æ”¹å˜ DOM ç»“æ„
			- å±€é™
				- æå…¶è„†å¼±ï¼Œä»»ä½•ç»†å¾®æ”¹åŠ¨éƒ½ä¼šæŠ¥é”™
				- å¼€å‘è€…å®¹æ˜“å…»æˆâ€œæ— è„‘æ›´æ–°å¿«ç…§â€çš„åä¹ æƒ¯ï¼Œå¯¼è‡´æµ‹è¯•å¤±æ•ˆ
		- å¦‚æœ UI å¾®è°ƒå¯¼è‡´å¤§é‡å¿«ç…§å¤±æ•ˆï¼Œä½ æ˜¯é€‰æ‹©æ›´æ–°å¿«ç…§è¿˜æ˜¯æ”¹ç”¨å…¶ä»–æµ‹è¯•æ–¹å¼ï¼Ÿä¸ºä»€ä¹ˆï¼Ÿ
		  logseq.order-list-type:: number
			- å¦‚æœæ˜¯é¢„æœŸçš„ UI å˜æ›´ï¼Œä½¿ç”¨ `u` æ›´æ–°å¿«ç…§ï¼›å¦‚æœé€»è¾‘å˜æ›´ä½†ä¸åº”è¯¥å½±å“ UI å¯¼è‡´çš„å¿«ç…§çš„å¤±æ•ˆï¼Œè¦é€šè¿‡å¯¹æ¯”æ’æŸ¥ Bug
			- å¦‚æœå¿«ç…§è¿‡äºé¢‘ç¹å˜åŠ¨å¯¼è‡´ç»´æŠ¤æˆæœ¬è¿‡é«˜ï¼Œå¯æ”¹ç”¨åŸºäº React Testing Library çš„æ–­è¨€æ¥æµ‹è¯•æ ¸å¿ƒäº¤äº’ï¼Œè€Œéå…¨é‡å¿«ç…§
		- ä»€ä¹ˆæ—¶å€™éœ€è¦å¯¹è‡ªå®šä¹‰ Hook æˆ–å‡½æ•°è¿›è¡Œ mockï¼Ÿ
		  logseq.order-list-type:: number
			- æ¶‰åŠå¤–éƒ¨ä¾èµ–ï¼ˆAPI è¯·æ±‚ï¼‰
			- æ¶‰åŠä¸ç¡®å®šæ€§ï¼ˆå¦‚ `Date.now()`, `Math.random()`ï¼‰
			- æ¶‰åŠå®šæ—¶å™¨ï¼ˆ`setTimeout`ï¼‰
		- å¦‚ä½•æµ‹è¯•ä¸€ä¸ªä¾èµ–æŸä¸ª Hook çš„ç»„ä»¶ï¼Œç¡®ä¿å®ƒåœ¨ä¸åŒè¿”å›å€¼ä¸‹è¡¨ç°æ­£ç¡®ï¼Ÿ
		  logseq.order-list-type:: number
			- ä½¿ç”¨ `jest.mock` æ¨¡æ‹Ÿè¯¥ Hook çš„å®ç°
	- æ„å»ºä¸æ€§èƒ½
		- ç›¸æ¯” Webpackï¼ŒVite åœ¨å¼€å‘ä½“éªŒä¸Šæœ‰å“ªäº›ä¼˜åŠ¿ï¼Ÿ
			- å†·å¯åŠ¨å¿«ï¼šVite åœ¨å¼€å‘ç¯å¢ƒä½¿ç”¨åŸç”Ÿ ESMï¼Œ Webpack åœ¨å¯åŠ¨å‰æ‰“åŒ…æ•´ä¸ªåº”ç”¨
			- HMR å¿«ï¼šçƒ­æ›´æ–°é€Ÿåº¦ä¸æ¨¡å—æ€»æ•°æ— å…³ï¼Œå§‹ç»ˆä¿æŒè½»é‡å¿«é€Ÿ
		- å¦‚ä½•ä¼˜åŒ–ä»¥é¿å…ä¸å¿…è¦çš„é‡å¤è®¡ç®—ï¼Ÿ
			- ä½¿ç”¨ `useMemo` ç¼“å­˜è®¡ç®—ç»“æœ
			- è¦çŸ¥é“ `useMemo` ä¹Ÿæœ‰æˆæœ¬ï¼Œåªæœ‰æ˜‚è´µçš„è®¡ç®—æ‰æœ‰å¿…è¦ç¼“å­˜
	- é—®é¢˜æ’æŸ¥ä¸å·¥ç¨‹æ€ç»´
		- ä½œä¸ºå›¢é˜Ÿä¸»åŠ›ï¼Œå¿…é¡»å…·å¤‡**åä½œè§„èŒƒæ„è¯†**ï¼Œä¸‹é¢æåˆ°çš„å·¥å…·é“¾å¯çœ‹ä½œç°ä»£å‰ç«¯**äº‹å®æ ‡å‡†**ï¼Œä¸å…‰â€œèƒ½å†™åŠŸèƒ½â€ï¼Œä¹Ÿè¦èƒ½äº¤ä»˜â€œå¯ç»´æŠ¤ä»£ç â€
		- æ€§èƒ½è°ƒè¯•ï¼šç”¨æˆ·åé¦ˆé¡µé¢å¡é¡¿ï¼Œä½ å‘ç°æŸä¸ªç»„ä»¶å›  state çŠ¶æ€å˜åŒ–é¢‘ç¹é‡æ¸²æŸ“ã€‚ä½ å¦‚ä½•å®šä½é—®é¢˜å¹¶ä¼˜åŒ–ï¼Ÿ
		  logseq.order-list-type:: number
		  *è¦æ±‚ï¼šå±äºå®šä½è§£å†³é—®é¢˜çš„èƒ½åŠ›*
			- ä½¿ç”¨ **React DevTools Profiler** æŸ¥çœ‹æ¸²æŸ“è€—æ—¶å’Œ commit åˆ—è¡¨ï¼›å¼€å¯ "Highlight updates when components render" è§†è§‰è¾…åŠ©ã€‚
			- ä¼˜åŒ–ï¼š
				- State ä¸‹æ²‰ï¼šå°†é¢‘ç¹å˜åŒ–çš„çŠ¶æ€ç§»åŠ¨åˆ°æ›´å°çš„å­ç»„ä»¶ä¸­ï¼Œé¿å…æ•´æ ‘æ¸²æŸ“ã€‚
				- Memoizationï¼šä½¿ç”¨ `React.memo` åŒ…è£¹å—å½±å“çš„å­ç»„ä»¶ï¼Œé…åˆ `useCallback` ç¡®ä¿ä¼ é€’çš„å‡½æ•°å¼•ç”¨ç¨³å®š
				- é˜²æŠ–/èŠ‚æµï¼šå¦‚æœçŠ¶æ€æºäºé«˜é¢‘äº‹ä»¶ï¼ˆå¦‚ scroll, inputï¼‰ï¼Œä½¿ç”¨ debounce/throttle
		- å›¢é˜Ÿä¸­ä¸åŒæˆå‘˜çš„ä»£ç ç¼©è¿›ã€å¼•å·ã€åˆ†å·ä¹ æƒ¯ä¸åŒï¼Œå¯¼è‡´ PR ä¸­æ··æ‚å¤§é‡æ— å…³æ”¹åŠ¨ã€‚ä½ ä¼šå¦‚ä½•è§£å†³è¿™ä¸ªé—®é¢˜ï¼Ÿ
		  logseq.order-list-type:: number
		  *å»ºè®®æŒæ¡ï¼Œæ—¥å¸¸å¼€å‘æé«˜é¢‘åœºæ™¯*
			- prettier è‡ªåŠ¨æ ¼å¼åŒ–
			- é…åˆ ESLint ç»Ÿä¸€é£æ ¼å’Œæ½œåœ¨é”™è¯¯æ£€æŸ¥
			- ç¼–è¾‘å™¨é…ç½®ä¿å­˜æ—¶è‡ªåŠ¨æ ¼å¼åŒ–
			- pre-commit é’©å­ï¼Œç¡®ä¿æäº¤çš„ä»£ç å·²æ ‡å‡†åŒ–
		- ä½ äº†è§£è¿‡ Conventional Commits è§„èŒƒå—ï¼Ÿè¿™ç§è§„èŒƒæœ‰ä»€ä¹ˆå¥½å¤„ï¼Ÿ
		  logseq.order-list-type:: number
		  *è¦æ±‚ï¼šä½“ç°å›¢é˜Ÿåä½œç´ å…»*
			- è‡ªåŠ¨ç”Ÿæˆ CHANGELOG
			- æ”¯æŒè¯­ä¹‰åŒ–ç‰ˆæœ¬ (SemVer) è‡ªåŠ¨å‘ç‰ˆ
			- æé«˜ Git å†å²å¯è¯»æ€§ï¼Œä¾¿äº code review å’Œé—®é¢˜å›æº¯
			- å¯é€šè¿‡ commitlint + husky åœ¨æœ¬åœ°æ ¡éªŒ commit æ ¼å¼
		- å¦‚ä½•ç¡®ä¿æ¯æ¬¡ git commit çš„ä»£ç éƒ½é€šè¿‡äº†åŸºæœ¬æ£€æŸ¥ (æ¯”å¦‚ç±»å‹æ£€æŸ¥ã€å•å…ƒæµ‹è¯•ã€æ ¼å¼åŒ–)ï¼Ÿ
		  logseq.order-list-type:: number
		  *è¦æ±‚ï¼šç°ä»£å‰ç«¯å·¥ç¨‹æ ‡é…*
			- ä½¿ç”¨ Husky è®¾ç½® Git hook
			- ç»“åˆ lint-staged åªå¯¹æš‚å­˜æ–‡ä»¶è¿è¡Œ ESLint/Prettier
			- æµç¨‹ï¼šgit add -> git commit -> Huksy è§¦å‘ -> lint-staged æ ¼å¼åŒ–å¹¶æ£€æŸ¥ -> å¤±è´¥åˆ™é˜»æ­¢æäº¤
			- å¼ºè°ƒï¼šä¸èƒ½æ›¿ä»£ CIï¼Œç”¨äºå¿«é€Ÿåé¦ˆã€é¿å…ä½çº§é”™è¯¯æ¨é€åˆ°è¿œç¨‹ä»“åº“
		- å½“ä½ æ¨é€ä»£ç åˆ°è¿œç¨‹ä»“åº“åï¼Œå›¢é˜Ÿæ˜¯å¦‚ä½•è‡ªåŠ¨éªŒè¯ä»£ç è´¨é‡çš„ï¼Ÿä½ å¸Œæœ› CI æµç¨‹åŒ…å«å“ªäº›æ­¥éª¤ï¼Ÿ
		  logseq.order-list-type:: number
		  *ä¸è¦æ±‚ä¼šå†™é…ç½®æ–‡ä»¶ï¼Œä½†éœ€è¦äº†è§£æˆ–çŸ¥é“*
			- CI (æŒç»­é›†æˆ) ä¼šåœ¨æ¯æ¬¡ push/PR æ—¶è‡ªåŠ¨è¿è¡Œ
				- å®‰è£…ä¾èµ–
				- ç±»å‹æ£€æŸ¥ (tsc --noEmit)
				- ä»£ç  lint (eslint .)
				- å•å…ƒæµ‹è¯• (jest æˆ– vitest)
				- æ„å»ºéªŒè¯
			- å¦‚æœä»»æ„ç¯èŠ‚å¤±è´¥ï¼ŒPR ä¼šè¢«æ ‡è®°ä¸ºå¤±è´¥ï¼Œä¸èƒ½åˆå¹¶
- ---
- ## ğŸ  Personal & Growth
- 22:14 [[HHKB]] é”®ç›˜é…å¯¹ MacOS çš„æ–¹æ³•
	- æŒ‰ä¸‹ `Fn` + `Q` è¿›å…¥é…å¯¹æ¨¡å¼
	  logseq.order-list-type:: number
	- æŒ‰ä¸‹ `Fn` + `Control` + `1/2/3/4` æŒ‡å®šè®¾å¤‡ç¼–å·
	  logseq.order-list-type:: number
	- Mac è“ç‰™ç•Œé¢æœç´¢è®¾å¤‡å¹¶è¿æ¥
	  logseq.order-list-type:: number
	- ç­‰å¾…è¾“å…¥ç¡®è®¤ç å¹¶æŒ‰ä¸‹ `Enter` å»º
	  logseq.order-list-type:: number
- 22:20 Document Picture-in-Picture API #WebAPI
  collapsed:: true
	- ä»€ä¹ˆæ˜¯ Document Picture-in-Pictureï¼Ÿ
		- Document Picture-in-Picture æ˜¯ä¸€ä¸ªæµè§ˆå™¨ç«¯çš„ Web APIï¼Œå®ƒå…è®¸å¼€å‘è€…æ‰“å¼€ä¸€ä¸ª**å§‹ç»ˆç½®é¡¶**ã€**ç”± HTML å†…å®¹é©±åŠ¨**çš„ç‹¬ç«‹å°çª—å£ã€‚
	- Document PiP ä¸­çš„å†…å®¹å¯ä»¥æ˜¯**ä»»æ„ HTML DOM**ï¼Œå…·æœ‰**å®Œå…¨çš„äº¤äº’èƒ½åŠ›** (æ¯”å¦‚ç‚¹å‡»ã€è¾“å…¥ã€æ»šåŠ¨ã€æ‹–æ‹½ç­‰)ï¼Œå¯åº”ç”¨äº**è®¡æ—¶å™¨**ã€**ç•ªèŒ„é’Ÿ**ã€**è‚¡ç¥¨çœ‹æ¿**ã€**è§†é¢‘ä¼šè®®æ§åˆ¶å°**ç­‰åœºæ™¯ã€‚
	- è¦å®ç° Document PiP ä¸€èˆ¬æŒ‰ç…§ä»¥ä¸‹æµç¨‹æ¥åšï¼š
		- æ£€æµ‹æ”¯æŒï¼š`if ('documentPictureInPicture' in window)`
		  logseq.order-list-type:: number
			- ç”±äºå¹¶ä¸æ˜¯æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒè¯¥ APIï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨è¯¥åŠŸèƒ½å‰å¿…é¡»è¦åšæ£€æµ‹æ”¯æŒã€‚å¯å‚è€ƒ [caniuse](https://caniuse.com/?search=document-picture-in-picture) æ¥æŸ¥çœ‹æ”¯æŒè¯¥åŠŸèƒ½çš„æµè§ˆå™¨ã€‚
		- è¯·æ±‚çª—å£ï¼š`await window.documentPictureInPicture.requestWindow({ width, height })`
		  logseq.order-list-type:: number
			- è¯·æ±‚çª—å£æ—¶å¯é¢„å…ˆé…ç½®çª—å£çš„å®½ã€é«˜ã€‚
		- å†…å®¹å¡«å……ï¼šå‘è¿”å›çš„ `win.document.body` ä¸­æŒ‚è½½ DOMã€‚
		  logseq.order-list-type:: number
		- æ ·å¼åŒæ­¥ï¼šå›  PiP çª—å£æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„éš”ç¦»ç¯å¢ƒï¼Œæ ·å¼ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿ï¼Œå› æ­¤éœ€è¦**æ‰‹åŠ¨**å°†ä¸»çª—å£ä¸­çš„ CSS æ ·å¼è¡¨å¤åˆ¶åˆ° PiP çª—å£ä¸­ã€‚
		  logseq.order-list-type:: number
	- [[React]] ä¸­é›†æˆ Document Picture-in-Picture çš„æ–¹æ³•
		- ä½¿ç”¨ `createPortal` å®ç°ç»„ä»¶â€œä¼ é€â€ï¼Œä¿æŒç»„ä»¶å®ä¾‹ä¸é”€æ¯ï¼ŒçŠ¶æ€ä¸ä¸¢å¤±ã€‚
		- ```tsx
		  // ä¼ªä»£ç æ¶æ„
		  const App = () => {
		    const [pipWindow, setPipWindow] = useState(null);
		  
		    return (
		      <>
		        {/* åœºæ™¯1: æ™®é€šæ¨¡å¼ */}
		        {!pipWindow && <MyComponent />}
		  
		        {/* åœºæ™¯2: PiP æ¨¡å¼ (é€šè¿‡ Portal ä¼ é€) */}
		        {pipWindow && createPortal(
		          <MyComponent />, 
		          pipWindow.document.body
		        )}
		      </>
		    );
		  };
		  ```
	- Document Picture-in-Picture çš„é™åˆ¶
		- ç”Ÿå‘½å‘¨æœŸ
			- å¼ºç»‘å®šï¼šPiP çª—å£ä¾é™„äº Opener (ä¸»æ ‡ç­¾é¡µ)ï¼Œ**ä¸»é¡µåˆ·æ–°æˆ–å…³é—­ï¼ŒPiP çª—å£ç«‹å³å…³é—­**ã€‚
			- åº”å¯¹ï¼šä¸»é¡µæ˜¾ç¤ºâ€œå ä½ç¬¦â€ï¼Œæç¤ºç”¨æˆ·åå° PiP æ­£åœ¨è¿è¡Œã€‚
		- çª—å£å°ºå¯¸æ§åˆ¶
			- User Activation é™åˆ¶ï¼š`window.resizeTo` å¿…é¡»ç”±**ç”¨æˆ·æ‰‹åŠ¿ (ç‚¹å‡»/æŒ‰é”®) ç›´æ¥è§¦å‘**ï¼Œä¸èƒ½åœ¨ `useEffect` æˆ– `setTimeout` ä¸­ä»»æ„è°ƒç”¨ã€‚
			- æµè§ˆå™¨è®°å¿†ï¼šæµè§ˆå™¨ä¼šè®°ä½ä¸Šæ¬¡ç”¨æˆ·å…³é—­ PiP çª—å£æ—¶çš„å¤§å°ã€‚
				- ç°è±¡ï¼šä»£ç è¯·æ±‚ `height: 32px`ï¼Œå®é™…æ‰“å¼€å¯èƒ½æ˜¯ `500px`ã€‚
				- åº”å¯¹ï¼šé‡‡ç”¨â€œçŠ¶æ€è·Ÿéšâ€ç­–ç•¥ï¼Œä¸è¦å¼ºè¡Œé‡ç½®çŠ¶æ€ï¼Œè€Œæ˜¯æ ¹æ®ä¸Šæ¬¡çš„çŠ¶æ€è‡ªé€‚åº”ã€‚
			- ç³»ç»Ÿæœ€å°é«˜åº¦ï¼šæ“ä½œç³»ç»Ÿé™åˆ¶çª—å£æœ€å°é«˜åº¦ (é€šå¸¸ > 100px)ï¼Œè¯·æ±‚è¿‡å°çš„é«˜åº¦å¯èƒ½ä¸ç”Ÿæ•ˆã€‚
		- æ ·å¼éš”ç¦»
			- PiP çª—å£æ˜¯å…¨æ–°çš„ `document`ï¼Œä¸»çª—å£çš„æ ·å¼ä¸ä¼šè‡ªåŠ¨ç»§æ‰¿åˆ° PiP çª—å£ç”Ÿæ•ˆã€‚
			- è§£å†³æ–¹æ¡ˆï¼šéå†å¹¶å…‹éš† `styleSheets`ã€‚
				- ```ts
				  function copyStyles(targetDoc: Document) {
				    [...document.styleSheets].forEach((sheet) => {
				      try {
				        if (sheet.href) {
				          const link = document.createElement('link');
				          link.rel = 'stylesheet';
				          link.href = sheet.href;
				          targetDoc.head.appendChild(link);
				        } else if (sheet.ownerNode instanceof HTMLStyleElement) {
				          const style = document.createElement('style');
				          style.textContent = sheet.ownerNode.textContent;
				          targetDoc.head.appendChild(style);
				        }
				      } catch (e) {
				        console.warn('Style copy failed', e);
				      }
				    });
				  }
				  ```
	- [[React]] ä¸­ä½¿ç”¨ Document Picture-in-Picture æœ€ä½³å®è·µ
		- ä¸è¦åœ¨å…³é—­ PiP çª—å£æ—¶é‡ç½®ä¸šåŠ¡çŠ¶æ€ (æ¯”å¦‚è¡¨å•çš„å±•å¼€/æ”¶èµ·)ã€‚
		- é…åˆæµè§ˆå™¨â€œè®°å¿†å°ºå¯¸â€ç‰¹æ€§ï¼Œå¦‚æœç”¨æˆ·ä¸Šæ¬¡æ˜¯å±•å¼€çŠ¶æ€å…³é—­çš„ PiP çª—å£ï¼Œä¸‹æ¬¡æ‰“å¼€ PiP çª—å£æ—¶ä¿ç•™å±•å¼€çŠ¶æ€ã€‚
		- åœ¨ React ä¸­å¿…é¡»é…åˆ `Portal` æ‰èƒ½å®ç°æ— ç¼çš„çŠ¶æ€æµè½¬ã€‚
		- `resizeTo` å¿…é¡»åœ¨ click handler ç­‰äº‹ä»¶å†…éƒ¨ç›´æ¥è§¦å‘æ‰ç”Ÿæ•ˆã€‚