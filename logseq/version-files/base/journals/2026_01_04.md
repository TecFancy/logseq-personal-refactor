- [[Learn IndexedDB]]
	- 01:08 使用原生方法删除 [[IDB]] 中的数据 #reading
	  id:: 69594cf8-2dc7-4d10-b47b-eedd9c0fcf78
	  collapsed:: true
		- 确保已经[初始化](((6956acae-2332-4bd6-9457-5ea1dc9dedd9))) DB
		- 注意：原生删除数据时不会报错
		  background-color:: yellow
		- ```ts
		  const deleteTodo = (db: IDBDatabase, id: number) => {
		    return new Promise((resolve, reject) => {
		      try {
		        // 1. 开启读写事务
		        const tx = db.transaction(['todos', 'readwrite']);
		        
		        // 2. 获取对象仓库
		        const store = tx.objectStore('todos');
		  
		        // 3. 发起删除请求
		        // 注意：即时 ID 不存在，原生方法也不会报错，而是出发 onsuccess
		        const request = store.delete(id);
		        
		        // 4. 监听成功事件
		        request.onsuccess = () => {
		          console.log(`Item ${id} deleted (or did not exist)`);
		          resolve();
		        };
		        
		        // 5. 监听失败事件
		        request.onerror = () => {
		          console.error(`Delete failed: ${request.error}`);
		          reject(request.error);
		        };
		        
		        // 6. 事务层面的完成
		        tx.complete = () => {
		          // Transaction commited
		        };
		      } catch (error) {
		        reject(error);
		      }
		    });
		  };
		  ```
	- 01:17 使用 [[Dexie.js]] 删除 [[IDB]] 中的数据 #reading
	  id:: 69594f31-ffb5-4a3e-ad66-bc737dadeb63
	  collapsed:: true
		- 确保已[初始化](((6957ad53-105e-4933-8e2f-d0ca281e6b46))) DB
		- ```ts
		  import { db } from './db.ts';
		  
		  const deleteTodo = async (id: number) => {
		    try {
		      // 直接调用 delete 方法
		      await db.todos.delete(id);
		      
		      console.log(`Item ${id} deleted`);
		    } catch (error) {
		      console.error(`Delete failed: ${error}`);
		      throw error;
		    }
		  };
		  ```